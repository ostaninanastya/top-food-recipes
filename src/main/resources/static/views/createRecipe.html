<div class="header">
    <h2>Create new recipe</h2>
</div>
<div>
    <form name="form" ng-submit="submit()" enctype="multipart/form-data">
        <div>
            <div class="createRecipe">
                <label style="width: 100px; height: 25px;">Name</label>
                <input style="width: 300px; height: 25px;" ng-model="recipe.name" name="name" required>
            </div>
            <div class="createRecipe">
                <label style="width: 100px; height: 25px;">Cuisine</label>
                <select style="width: 300px; height: 25px;" ng-model="recipe.cuisine" name="cuisine" ng-options="c.name for c in cuisines" required></select>
            </div>
            <div class="createRecipe">
                <label style="width: 100px; height: 25px;">Ingredients</label>
                <br/>

                <div ng-repeat="ingredientRecipe in ingredientRecipeArray" >
                    <select name = "ingredient" style="width: 300px; height: 25px; display:inline-block;" ng-model="ingredientRecipe.ingredient" ng-options="i.name for i in ingredients" required></select>
                    <input type = "number"  min="0.1" max="1000000" step="any" name="quantity" id="quantity" class="form-control" style="width: 300px; height: 25px; display:inline-block;" ng-model="ingredientRecipe.quantity" required>
                    <output style="width: 300px; height: 25px; display:inline-block;">{{ingredientRecipe.ingredient.measure.name}}</output>
                    <br/>
                    <div style ="width: 300px; height: 25px; margin: 0px;" ng-show="form.quantity.$error.min || form.quantity.$error.max">
                    Not valid number</div>

                </div>

                <div class="createRecipe">
                    <input class="btn btn-default" ng-disabled = "form.ingredient.$invalid || form.quantity.$invalid" ng-click="addIngredient()" value="Add ingredient"/>
                    <input class="btn btn-default" ng-disabled = "lastItem" ng-click="deleteIngredient()" value="Delete ingredient"/>
                </div>

            </div>
            <div class="createRecipe">
                <label style=" width: 100px; height: 25px; padding-top: 10px; margin-top: 0px">Text</label>
                <br/>
                <textarea style=" width: 800px; height: 200px;" ng-model="recipe.recipe" name="text" required>
                    </textarea>
            </div>
            <br/>
            <div class="createRecipe">
                <input type="file" id="file" name="file"
                       onchange="angular.element(this).scope().fileChanged(this)">
            </div>
            <div>
                <div style = "padding-left:21px; text-align:left; width: 300px; height: 25px;" ng-show="form.$dirty && form.$invalid">
                    All fields must be completed
                </div>
            </div>
            <div class="createRecipe">
                <input type="submit" class="btn btn-default" ng-disabled="form.$invalid" id="submit" value="Add recipe"/>
            </div>
        </div>

    </form>
</div>
